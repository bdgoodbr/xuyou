# 铁运可视化信息上报 - UI原型

## 文件说明

- **文件名**：`TYVISV0.1.html`
- **版本**：V0.1
- **创建时间**：2026-01-26
- **功能**：铁运可视化信息上报（货代侧）完整UI原型

## 使用方法

1. 直接在浏览器中打开 `TYVISV0.1.html` 文件
2. 无需服务器，所有资源已内联在HTML文件中
3. 支持Chrome、Firefox、Safari、Edge等现代浏览器

## 功能说明

### 1. 列表页功能
- ✅ 筛选查询（落货纸号、箱号、起运港、目的港、箱型、上传时间、货代）
- ✅ 数据表格展示（支持复选框批量选择）
- ✅ 分页功能（每页10/20/50/100条，支持跳转）
- ✅ 权限控制（货代/物流岗/管理员角色显示不同内容）

### 2. 单条上传功能
- ✅ 表单录入（所有字段，必填项带红色星号）
- ✅ 实时校验（字段失去焦点时校验）
- ✅ 业务校验（落货纸号校验：货代匹配、订舱状态）
- ✅ 错误提示（字段级提示 + Toast提示）

### 3. 批量上传功能
- ✅ 文件上传（支持点击选择和拖拽上传）
- ✅ 文件校验（格式、大小限制）
- ✅ 导入进度显示
- ✅ 导入结果展示（成功/失败数量、错误明细表格）
- ✅ 错误明细导出（待实现）

### 4. 数据删除功能
- ✅ 单条删除（确认弹窗）
- ✅ 批量删除（确认弹窗，显示删除数量）

### 5. 权限控制
- **货代角色**：可上传、查看、删除自己的数据
- **物流岗角色**：可上传、查看自己订舱的数据（不可删除）
- **管理员角色**：可上传、查看、删除全部数据（显示货代列）

## 测试角色切换

在HTML文件中，找到以下代码行（约第580行）：

```javascript
userRole: 'carrier', // 可切换测试：'carrier', 'logistics', 'admin'
```

可以修改为：
- `'carrier'` - 货代角色
- `'logistics'` - 物流岗角色
- `'admin'` - 管理员角色

## 技术栈

- **Vue.js 3**：响应式数据管理
- **Tailwind CSS**：样式框架（CDN）
- **Font Awesome**：图标库（CDN）
- **纯前端实现**：所有功能使用前端模拟，无需后端接口

## 字段说明

### 必填字段
- 起运港 (POL)
- 目的港 (POD)
- 落货纸号
- 箱号
- 箱型
- 当前位置
- 距离口岸 (KM)

### 可选字段
- 距离目的地 (KM)
- 实时ETD
- ATD
- 实时ETA
- ATA

### 系统字段
- 上传时间（系统自动）

## 校验规则

### 1. 必填字段校验
- 字段失去焦点时校验
- 显示红色边框和错误提示
- 表单提交时汇总提示

### 2. 业务校验
- **订舱状态校验**：该订舱号未处于已订舱状态，无法上传可视化信息
- **货代匹配校验**：该订舱号不属于当前货代，无法上传

### 3. 批量导入校验
- 任一记录校验失败，整批失败
- 显示错误明细表格（行号、落货纸号、箱号、错误原因）

## UI规范遵循

- ✅ HTM系统UI设计规范（颜色、字体、组件样式）
- ✅ 列表页标准布局（筛选区、操作栏、表格、分页器）
- ✅ 表单弹窗标准样式（宽度800px，最大高度90vh）
- ✅ 按钮样式（主按钮蓝色、次按钮灰色、文本链接）
- ✅ 表格样式（紧凑型、固定表头、横向滚动）

## 待实现功能

以下功能在原型中已预留接口，实际开发时需要对接后端：

1. **数据接口**
   - 列表查询接口
   - 单条保存接口
   - 批量导入接口
   - 删除接口
   - 导出接口

2. **文件处理**
   - Excel文件解析（前端或后端）
   - 模板文件下载
   - 错误明细导出

3. **数据校验**
   - 落货纸号校验接口
   - 订舱状态校验接口
   - 货代匹配校验接口

## 注意事项

1. 当前为前端原型，所有数据为模拟数据
2. 实际开发时需要对接后端接口
3. 文件上传功能需要后端支持
4. Excel解析建议在后端实现（更安全、更可靠）

## 更新日志

### V0.1 (2026-01-26)
- ✅ 初始版本
- ✅ 列表页功能
- ✅ 单条上传功能
- ✅ 批量上传功能
- ✅ 数据删除功能
- ✅ 权限控制
- ✅ 表单校验
- ✅ 错误提示

---

**创建者**：AI Assistant  
**参考文档**：`02-订舱管理-铁运订舱管理.md`、`02-订舱管理-铁运订舱管理-UI需求分析.md`
