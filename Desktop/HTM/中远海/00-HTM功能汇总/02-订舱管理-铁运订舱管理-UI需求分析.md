# 铁运可视化信息上报（货代侧）- UI需求分析与缺失项检查

> **创建时间**：2026-01-26  
> **目的**：在输出UI原型前，分析功能需求、对比UI规范，找出缺失信息

---

## 一、功能需求梳理

### 1.1 核心功能点

根据PRD文档 `02-订舱管理-铁运订舱管理.md` 的"二、铁运可视化信息上报（货代侧）"章节，该功能包含：

1. **数据上传**
   - 单条上传：手动填写表单
   - 批量上传：Excel格式导入

2. **数据查询**
   - 列表展示已上传的可视化信息
   - 支持筛选和搜索

3. **数据删除**
   - 单条删除
   - 批量删除

4. **权限控制**
   - 货代：只能操作自己货代的数据
   - 物流岗：只能查看自己订舱的数据，可上传
   - 管理员：可操作全部数据

### 1.2 数据结构（需要录入的字段）

| 字段名称 | 字段英文名 | 是否必填 | 控件类型 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| 起运港 | POL | ✅ 必填 | 下拉选择/输入 | 与订舱时的起运港对应 |
| 目的港 | POD | ✅ 必填 | 下拉选择/输入 | 与订舱时的目的港对应 |
| 落货纸号 | Invoice NO. / PO号 | ✅ 必填 | 输入框 | 订舱时的主落货纸号 |
| 箱号 | container_no | ✅ 必填 | 输入框 | 一个落货纸可以有多个箱号 |
| 箱型 | Container Size | ✅ 必填 | 下拉选择 | 如：40HQ |
| 实时ETD | Estimated Time of Departure | ⭕ 可选 | 日期时间选择器 | 实时预计离港时间 |
| ATD | ATD | ⭕ 可选 | 日期时间选择器 | 实际离港时间 |
| 实时ETA | Estimated Time of Arrival | ⭕ 可选 | 日期时间选择器 | 实时预计到港时间 |
| ATA | ATA | ⭕ 可选 | 日期时间选择器 | 实际到港时间 |
| 当前位置 | Current Location | ✅ 必填 | 输入框 | 当前所在位置 |
| 距离口岸 | KM to Border | ✅ 必填 | 数字输入框 | 距离口岸的公里数 |
| 距离目的地 | KM to Destination | ⭕ 可选 | 数字输入框 | 距离目的地的公里数 |
| 上传时间 | Updated date | ✅ 必填 | 只读显示 | 系统自动 |

---

## 二、UI页面结构分析

### 2.1 需要的页面类型

根据功能需求，该功能需要以下页面：

#### 2.1.1 列表页（主页面）
- **功能**：展示已上传的可视化信息列表
- **布局**：参考"列表页模式"（HTM高保真UI风格基线.md）
- **组件**：
  - 筛选/查询区域（顶部）
  - 操作按钮区（新建、批量删除、导出、下载模板、上传模板）
  - 数据表格（展示所有字段）
  - 分页器（底部）

#### 2.1.2 单条上传表单页（弹窗或独立页面）
- **功能**：手动填写单条可视化信息
- **布局**：表单页面或弹窗
- **组件**：
  - 表单输入区（所有字段）
  - 操作按钮（保存、取消）

#### 2.1.3 批量上传页（弹窗）
- **功能**：Excel文件上传和导入
- **布局**：弹窗
- **组件**：
  - 说明文字
  - 下载模板链接
  - 文件上传区域
  - 导入结果反馈（成功/失败明细）
  - 操作按钮（开始导入、取消）

### 2.2 交互流程

```
列表页
  ├─ 点击"新建" → 打开单条上传表单（弹窗或跳转）
  ├─ 点击"批量导入" → 打开批量上传弹窗
  ├─ 选择数据 → 点击"批量删除" → 确认弹窗 → 删除
  ├─ 点击表格行"删除" → 确认弹窗 → 删除
  └─ 筛选/搜索 → 刷新列表
```

---

## 三、UI规范对比检查

### 3.1 已明确的规范（从文档中提取）

#### 3.1.1 颜色系统（HTM 系统 UI 设计规范）
- ✅ 主色调：Blue-Slate（#2563EB）
- ✅ 背景色：Page BG (#F9FAFB)、Surface White (#FFFFFF)
- ✅ 状态色：Draft/Executed/Recalled/Deleted
- ✅ 验证错误：边框 #EF4444 / 背景 #FEF2F2

#### 3.1.2 组件规范
- ✅ 按钮：Primary Button (h-10, bg-blue-600)
- ✅ 表单输入：.p2-input (h-34px, 13px字体)
- ✅ 数据表格：.compact-cell (紧凑型)
- ✅ 卡片：.info-box (rounded-lg, shadow-sm)

#### 3.1.3 布局规范
- ✅ 全局框架：Sidebar (256px) + Header (64px) + Main Area
- ✅ 栅格系统：表单行 grid-cols-4，间距 gap-6

#### 3.1.4 列表页标准结构（基于HTM高保真UI风格基线）
- ✅ 筛选/查询区域：位于页面顶部，多列网格布局（通常4-5列），包含"查询"和"重置"按钮
- ✅ 顶部操作栏：筛选区下方，左侧显示标题，右侧显示批量操作按钮和"新建"按钮
- ✅ 数据表格：固定表头，横向滚动条，复选框列、链接列、状态标签、操作列
- ✅ 分页器：表格底部，显示总条数、页码、每页条数、跳转功能

#### 3.1.5 表单规范（基于HTM系统UI设计规范）
- ✅ 必填项标识：字段标签前带红色星号 (*)，颜色 #EF4444
- ✅ 日期时间选择器：格式 YYYY-MM-DD HH:mm:ss（需要时分秒）
- ✅ 输入框聚焦：边框变为蓝色 (#3B82F6)，带外发光圆环 (ring-1 ring-blue-500)
- ✅ 只读状态：背景色 #F9FAFB，文字灰色

### 3.2 缺失的规范信息

#### 3.2.1 字段级规范（需要确认）

| 字段 | 缺失信息 | 说明 | 建议方案 |
| :--- | :--- | :--- | :--- |
| **起运港/目的港** | 下拉选项来源 | 从主数据获取？枚举值？是否支持搜索？ | **建议**：支持搜索的下拉选择器，从主数据表获取，与订舱时的起运港/目的港保持一致 |
| **落货纸号** | 是否支持搜索/选择 | 是否需要从已订舱的运单中选择？还是手动输入？ | **建议**：支持手动输入+下拉搜索，下拉选项仅显示当前货代负责的已订舱运单（book_status=4）的主落货纸号 |
| **箱型** | 枚举值列表 | 40HQ、20GP等，完整列表是什么？ | **建议**：参考PRD说明"箱型与HTM标准箱型一致"，常见值：20GP、40GP、40HQ、40NOR等，需确认完整列表 |
| **日期时间字段** | 日期时间选择器样式 | 是否需要时分秒？格式要求？ | **✅ 已明确**：格式 YYYY-MM-DD HH:mm:ss（基于UI规范） |
| **距离字段** | 单位显示 | "距离口岸"是否显示"KM"单位？输入限制？ | **建议**：输入框后显示单位"KM"，限制只能输入数字（含小数），最小值0 |

#### 3.2.2 校验提示规范（需要确认）

| 校验项 | 缺失信息 | 说明 | 建议方案 |
| :--- | :--- | :--- | :--- |
| **必填字段校验** | 提示文案 | "请填写必填字段"？还是具体字段名？ | **建议**：字段级提示"请填写[字段名]"，如"请填写起运港"；表单提交时汇总提示"以下字段为必填项：[字段列表]" |
| **订舱状态校验** | 提示文案 | "该SO未处于已订舱状态，无法上传可视化信息"？ | **✅ 已明确**：PRD中明确"该SO未处于已订舱状态，无法上传可视化信息" |
| **货代匹配校验** | 提示文案 | "该落货纸不属于当前货代，无法上传"？ | **✅ 已明确**：PRD中明确"该落货纸不属于当前货代，无法上传" |
| **批量导入失败** | 错误展示方式 | 是否展示错误明细表格？格式？ | **建议**：弹窗展示错误明细表格，包含：行号、字段名、错误原因；格式：表头（行号、落货纸号、箱号、错误原因），数据行展示具体错误信息 |

#### 3.2.3 权限控制UI表现（需要确认）

| 权限场景 | 缺失信息 | 说明 | 建议方案 |
| :--- | :--- | :--- | :--- |
| **货代角色** | 数据隔离UI表现 | 列表是否显示"货代"列？筛选是否隐藏？ | **建议**：列表不显示"货代"列（因为只能看到自己的数据），筛选区域不显示"货代"筛选条件 |
| **物流岗角色** | 上传按钮可见性 | 是否显示"上传"按钮？还是只显示"查看"？ | **✅ 已明确**：PRD中明确"物流岗具有上传权限可上传"，按钮根据权限动态显示 |
| **管理员角色** | 数据标识 | 是否需要标识数据来源（哪个货代）？ | **建议**：列表显示"货代"列，筛选区域显示"货代"筛选条件，便于管理员查看和筛选不同货代的数据 |

#### 3.2.4 列表页规范（需要确认）

| 组件 | 缺失信息 | 说明 | 建议方案 |
| :--- | :--- | :--- | :--- |
| **表格列** | 列宽、固定列 | 哪些列需要固定？列宽分配？ | **建议**：操作列固定右侧，其他列自适应；关键列（落货纸号、箱号）适当加宽；日期时间列统一宽度（如180px） |
| **操作列** | 操作按钮样式 | "删除"是文本链接还是图标按钮？ | **✅ 已明确**：基于UI规范，操作列使用文本链接形式（如"查看"、"删除"），链接颜色蓝色 (#2563EB) |
| **筛选区域** | 筛选字段 | 支持哪些字段筛选？日期范围？ | **建议**：支持筛选：落货纸号、箱号、起运港、目的港、箱型、上传时间（日期范围）、实时ETD（日期范围）、ATD（日期范围）、实时ETA（日期范围）、ATA（日期范围）；管理员角色额外支持"货代"筛选 |
| **批量操作** | 批量删除确认 | 确认弹窗文案？是否显示删除数量？ | **建议**：确认弹窗文案"确定要删除选中的 X 条记录吗？删除后不可恢复。"，显示删除数量 |

#### 3.2.5 批量上传规范（需要确认）

| 组件 | 缺失信息 | 说明 | 建议方案 |
| :--- | :--- | :--- | :--- |
| **文件上传** | 上传区域样式 | 虚线框？拖拽上传？文件大小限制？ | **建议**：虚线边框区域，支持点击选择和拖拽上传，文件大小限制10MB，仅支持.xlsx和.xls格式 |
| **模板下载** | 模板文件格式 | Excel模板包含哪些字段？示例数据？ | **建议**：Excel模板包含所有字段（必填字段标注红色星号），第一行为表头，第二行为示例数据；字段顺序：起运港、目的港、落货纸号、箱号、箱型、实时ETD、ATD、实时ETA、ATA、当前位置、距离口岸、距离目的地 |
| **导入进度** | 进度显示 | 是否需要进度条？导入中状态？ | **建议**：导入过程中显示进度条和"正在导入，请稍候..."提示，禁用"开始导入"按钮 |
| **导入结果** | 结果展示 | 成功/失败数量？错误明细表格？ | **建议**：弹窗顶部显示"导入完成：成功 X 条，失败 Y 条"；如有失败，下方展示错误明细表格（行号、落货纸号、箱号、错误原因）；支持导出错误明细为Excel |

---

## 四、需要补充的信息清单

### 4.1 必须确认的信息（输出UI前）

1. **字段枚举值/数据源** ✅ **已确认**
   - [x] 起运港/目的港：**✅ 已确认**：使用HTM现有的（从HTM主数据获取，支持搜索）
   - [x] 箱型：**✅ 已确认**：使用HTM现有的（HTM标准箱型列表）
   - [x] 落货纸号：**✅ 已确认**：货代手动录入，但需要校验（校验：该落货纸号对应的物流运单的货代=当前用户的货代，且book_status=4已订舱）

2. **日期时间格式** ✅ **已明确**
   - [x] 日期时间选择器：格式 YYYY-MM-DD HH:mm:ss（基于UI规范）

3. **校验提示文案** ⚠️ **中优先级**
   - [x] 必填字段校验失败提示文案 **建议**：字段级提示"请填写[字段名]"
   - [x] 订舱状态校验失败提示文案 **✅ 已明确**：PRD中已明确
   - [x] 货代匹配校验失败提示文案 **✅ 已明确**：PRD中已明确
   - [ ] 批量导入失败提示文案和错误明细展示格式 **建议**：弹窗展示错误明细表格

4. **权限UI表现** ⚠️ **中优先级**
   - [x] 货代角色：列表是否显示"货代"列？筛选是否隐藏？**建议**：不显示"货代"列，不显示"货代"筛选
   - [x] 物流岗角色：上传按钮的可见性规则 **✅ 已明确**：根据权限动态显示
   - [x] 管理员角色：是否需要显示数据来源（货代名称）？**建议**：显示"货代"列和筛选

5. **列表页细节** ⚠️ **中优先级**
   - [x] 表格列：哪些列需要固定？列宽分配？**建议**：操作列固定右侧，其他自适应
   - [x] 筛选字段：支持哪些字段筛选？**建议**：见3.2.4表格
   - [x] 操作按钮：删除按钮样式（文本链接/图标按钮）？**✅ 已明确**：文本链接（基于UI规范）

6. **批量上传细节** ⚠️ **中优先级**
   - [x] 文件上传：上传区域样式（虚线框/拖拽）？文件大小限制？**建议**：虚线框，支持拖拽，限制10MB
   - [x] Excel模板：模板文件格式和示例数据 **建议**：见3.2.5表格
   - [x] 导入结果：成功/失败数量展示？错误明细表格格式？**建议**：弹窗展示，支持导出错误明细

### 4.2 建议补充的信息（提升UI质量）

1. **页面入口路径** ✅ **已确认**
   - [x] 菜单路径：**✅ 已确认**：在业务操作模块-新开菜单（独立菜单项）
   - [x] 菜单层级：业务操作模块（二级）> 铁运可视化信息上报（三级）

2. **页面标题和面包屑** ⚠️ **建议确认**
   - [ ] 页面标题："铁运可视化信息上报"？
   - [ ] 面包屑导航路径：例如"首页 > 业务操作模块 > 铁运可视化信息上报"？
   - **建议**：页面标题使用"铁运可视化信息上报"，面包屑根据菜单路径自动生成

3. **状态标识** ✅ **建议采用默认方案**
   - [x] **建议**：根据PRD，上传后即存储，无需状态标签；但可考虑显示"最新"标识（同一落货纸号+箱号的多条记录中，最新的一条）
   - **默认方案**：不显示状态标签，列表按上传时间倒序展示即可

4. **数据展示优化** ✅ **建议采用默认方案**
   - [x] **建议**：列表默认按上传时间倒序展示；支持按"落货纸号"筛选；同一落货纸号+箱号的多条记录按时间倒序展示，最新记录可标识"最新"
   - **默认方案**：列表按上传时间倒序展示，支持筛选，不分组展示

5. **单条上传表单布局** ✅ **建议采用默认方案**
   - [x] **建议**：使用弹窗（Modal），参考HTM系统其他页面的表单弹窗样式；弹窗宽度建议800px，高度自适应（最大90vh，超出显示滚动条）
   - **默认方案**：使用弹窗（Modal），宽度800px

6. **列表页表格列顺序** ✅ **建议采用默认方案**
   - [x] **建议**：复选框、落货纸号、箱号、箱型、起运港、目的港、当前位置、距离口岸、距离目的地、实时ETD、ATD、实时ETA、ATA、上传时间、操作列；管理员角色在"落货纸号"后增加"货代"列
   - **默认方案**：按建议顺序排列

---

## 五、参考资源

### 5.1 UI规范文档
- `/Users/xuyou/Desktop/HTM/HTM 系统 UI 设计规范 (Design System).md`
- `/Users/xuyou/Desktop/HTM/中远海/00-技能库/HTM高保真UI风格基线.md`

### 5.2 UI示例
- `/Users/xuyou/Desktop/HTM/国际营销系统外落货纸/LHZ0105V0.9.html`（系统外落货纸创建/编辑页）
- `/Users/xuyou/Desktop/HTM/中远海/00-技能库/HTM-系统外落货纸-前端实现分析.md`

### 5.3 工作流程
- `/Users/xuyou/Desktop/HTM/中远海/00-技能库/03-工作流程/高保真HTML原型输出与一致性对齐流程.md`

---

## 六、下一步行动

### 6.1 建议流程

1. **确认缺失信息**：根据"四、需要补充的信息清单"，逐一确认或提供默认值
2. **建立约束矩阵**：按照"高保真HTML原型输出与一致性对齐流程.md"的步骤2，建立字段矩阵、状态-按钮矩阵、角色-权限矩阵
3. **输出UI原型**：按照规范和约束矩阵生成HTML原型

### 6.2 如果无法确认的信息

- 可以基于现有HTM系统的类似页面（如系统外落货纸）进行推断
- 在原型中标注"待确认"或提供多个方案供选择

---

## 七、基于UI规范的补充设计建议

### 7.1 页面布局结构（基于HTM高保真UI风格基线）

#### 7.1.1 列表页完整结构
```
┌─────────────────────────────────────────────────────────┐
│ 筛选/查询区域（顶部）                                    │
│ - 多列网格布局（4-5列）                                  │
│ - 包含：落货纸号、箱号、起运港、目的港、箱型、上传时间等 │
│ - "查询"和"重置"按钮                                     │
└─────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────┐
│ 顶部操作栏                                               │
│ - 左侧：标题"铁运可视化信息上报 (XXX)"                   │
│ - 右侧：批量操作按钮（批量删除、导出）+ "新建"按钮        │
└─────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────┐
│ 数据表格                                                 │
│ - 固定表头，横向滚动条                                   │
│ - 复选框列、数据列、操作列                               │
│ - 链接：落货纸号、箱号可点击查看详情（如有）             │
└─────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────┐
│ 分页器（底部）                                           │
│ - 总条数、页码、每页条数、跳转                           │
└─────────────────────────────────────────────────────────┘
```

#### 7.1.2 单条上传表单弹窗结构
```
┌─────────────────────────────────────────────────────────┐
│ 弹窗标题："新增可视化信息"                               │
├─────────────────────────────────────────────────────────┤
│ 表单区块（多列布局，grid-cols-4）                        │
│ - 起运港*（下拉选择，支持搜索）                          │
│ - 目的港*（下拉选择，支持搜索）                          │
│ - 落货纸号*（输入框+下拉搜索）                           │
│ - 箱号*（输入框）                                        │
│ - 箱型*（下拉选择）                                      │
│ - 当前位置*（输入框）                                    │
│ - 距离口岸*（数字输入框，单位KM）                        │
│ - 距离目的地（数字输入框，单位KM）                       │
│ - 实时ETD（日期时间选择器）                             │
│ - ATD（日期时间选择器）                                  │
│ - 实时ETA（日期时间选择器）                             │
│ - ATA（日期时间选择器）                                  │
├─────────────────────────────────────────────────────────┤
│ 操作按钮：保存（蓝色主按钮）、取消（灰色次按钮）         │
└─────────────────────────────────────────────────────────┘
```

#### 7.1.3 批量上传弹窗结构
```
┌─────────────────────────────────────────────────────────┐
│ 弹窗标题："批量导入可视化信息"                           │
├─────────────────────────────────────────────────────────┤
│ 说明文字                                                 │
│ - 支持Excel格式（.xlsx、.xls）                          │
│ - 文件大小限制：10MB                                     │
│ - 批量导入规则：任一记录校验失败，整批失败               │
├─────────────────────────────────────────────────────────┤
│ 操作区域                                                 │
│ - "下载模板"链接（蓝色）                                 │
│ - 文件上传区域（虚线框，支持拖拽）                       │
│ - 导入进度条（导入中显示）                               │
├─────────────────────────────────────────────────────────┤
│ 导入结果（导入完成后显示）                               │
│ - 成功/失败数量统计                                      │
│ - 错误明细表格（如有失败）                               │
│ - "导出错误明细"按钮（如有失败）                         │
├─────────────────────────────────────────────────────────┤
│ 操作按钮：开始导入（蓝色主按钮）、取消（灰色次按钮）     │
└─────────────────────────────────────────────────────────┘
```

### 7.2 关键UI组件规范（基于HTM系统UI设计规范）

#### 7.2.1 按钮规范
- **主按钮**（新建、保存、开始导入）：高度40px，背景色#2563EB，文字白色，圆角4px
- **次按钮**（取消、重置）：高度40px，背景色白色，文字灰色，边框1px solid #E5E7EB
- **文本链接**（删除、查看）：文字颜色#2563EB，悬停显示下划线

#### 7.2.2 表单输入规范
- **输入框高度**：34px（紧凑型）
- **字体大小**：13px
- **边框**：1px solid #D1D5DB（默认），聚焦时#3B82F6
- **必填标识**：字段标签前红色星号 (*)，颜色#EF4444
- **日期时间选择器**：格式YYYY-MM-DD HH:mm:ss，右侧日历图标

#### 7.2.3 表格规范
- **表头**：背景色#F9FAFB，文字14px，加粗，颜色#6B7280
- **表格行**：行高适中（约48px），悬停背景色#F9FAFB
- **边框**：下边框1px solid #E5E7EB
- **操作列**：固定右侧，文本链接形式

#### 7.2.4 筛选区规范
- **布局**：多列网格布局（4-5列），间距gap-4或gap-6
- **按钮**："查询"（蓝色主按钮）、"重置"（灰色次按钮）
- **折叠/展开**：支持"更多"按钮展开/收起更多筛选条件

### 7.3 权限控制UI表现总结

| 角色 | 列表显示"货代"列 | 筛选显示"货代" | 上传按钮 | 删除按钮 | 备注 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **货代** | ❌ 不显示 | ❌ 不显示 | ✅ 显示 | ✅ 显示（仅自己数据） | 数据隔离，只能看到自己的数据 |
| **物流岗** | ❌ 不显示 | ❌ 不显示 | ✅ 显示（有权限时） | ❌ 不显示 | 只能查看自己订舱的数据 |
| **管理员** | ✅ 显示 | ✅ 显示 | ✅ 显示 | ✅ 显示（全部数据） | 可操作所有货代的数据 |

---

---

## 八、已确认信息汇总

### 8.1 已确认的关键信息 ✅

1. **字段数据源**
   - ✅ 起运港/目的港：使用HTM现有的（从HTM主数据获取，支持搜索）
   - ✅ 箱型：使用HTM现有的（HTM标准箱型列表）
   - ✅ 落货纸号：货代手动录入，需要校验（校验：该落货纸号对应的物流运单的货代=当前用户的货代，且book_status=4已订舱）

2. **菜单路径**
   - ✅ 菜单位置：业务操作模块（二级）- 新开菜单（独立菜单项）
   - ✅ 菜单层级：业务操作模块 > 铁运可视化信息上报（三级）

3. **日期时间格式**
   - ✅ 格式：YYYY-MM-DD HH:mm:ss（基于UI规范）

4. **校验提示文案**
   - ✅ 订舱状态校验："该SO未处于已订舱状态，无法上传可视化信息"（PRD已明确）
   - ✅ 货代匹配校验："该落货纸不属于当前货代，无法上传"（PRD已明确）

### 8.2 采用默认方案的信息 ✅

1. **页面布局**：列表页 + 单条上传弹窗 + 批量上传弹窗
2. **数据展示**：列表按上传时间倒序展示，支持筛选，不分组展示
3. **状态标识**：不显示状态标签
4. **表格列顺序**：复选框、落货纸号、箱号、箱型、起运港、目的港、当前位置、距离口岸、距离目的地、实时ETD、ATD、实时ETA、ATA、上传时间、操作列

### 8.3 UI文件格式和文件夹结构

#### 8.3.1 文件格式
- ✅ **文件格式**：HTML文件（.html）
- ✅ **文件命名**：参考HTM现有规范，建议使用功能代码+版本号，如：`TYVISV0.1.html`（铁运可视化信息上报 V0.1）

#### 8.3.2 文件夹结构建议
根据"高保真HTML原型输出与一致性对齐流程.md"的建议，建议建立以下文件夹结构：

```
中远海/
└── 原型/
    └── 铁运可视化信息上报/
        ├── index.html              # 导航页（可选，如有多页面）
        ├── TYVIS-ListV0.1.html     # 列表页
        ├── TYVIS-AddV0.1.html      # 单条上传弹窗（或嵌入列表页）
        ├── TYVIS-BatchV0.1.html    # 批量上传弹窗（或嵌入列表页）
        ├── assets/                  # 样式与静态资源
        │   ├── css/
        │   │   └── style.css
        │   └── js/
        │       └── main.js
        └── README.md                # 说明文档
```

**说明**：
- 如果所有功能都在一个页面（列表页+弹窗），可以只生成一个HTML文件：`TYVISV0.1.html`
- 如果需要分离，可以按上述结构组织
- assets文件夹存放CSS和JS资源（如需要）

### 8.4 可选信息处理计划

针对以下可选信息，制定处理计划（基于HTM现有系统推断）：

#### 8.4.1 页面标题和面包屑

**计划方案**：
- **页面标题**：使用"铁运可视化信息上报"（与菜单名称一致）
- **面包屑导航**：根据菜单路径自动生成
  - 格式：`首页 > 业务操作模块 > 铁运可视化信息上报`
  - 面包屑可点击，支持返回上级菜单

**实现方式**：
- 在页面顶部显示面包屑导航（参考HTM现有系统）
- 面包屑使用蓝色链接样式，当前页面不可点击

#### 8.4.2 必填字段校验提示文案

**计划方案**（基于HTM现有系统常见做法）：

1. **字段级提示**（实时校验）：
   - 当字段失去焦点（blur）且为空时，显示红色提示文字："请填写[字段名]"
   - 提示位置：输入框下方，字体12px，颜色#EF4444
   - 输入框边框变红（#EF4444），背景色#FEF2F2

2. **表单提交时汇总提示**（点击保存按钮时）：
   - 如果存在必填字段未填写，阻止提交
   - 显示Toast提示（或弹窗）："以下字段为必填项，请填写完整：起运港、目的港、落货纸号、箱号、箱型、当前位置、距离口岸"
   - 同时将所有未填写的必填字段标记为错误状态（红色边框+提示文字）

3. **业务校验提示**（订舱号校验）：
   - 订舱状态校验失败：Toast提示"该订舱号未处于已订舱状态，无法上传可视化信息"
   - 货代匹配校验失败：Toast提示"该订舱号不属于当前货代，无法上传"

**实现方式**：
- 使用Vue.js实现表单校验逻辑
- Toast提示使用HTM系统标准样式（顶部居中，蓝色背景，自动消失）

#### 8.4.3 批量导入错误明细展示

**计划方案**（基于HTM现有系统常见做法）：

1. **导入结果弹窗结构**：
   ```
   ┌─────────────────────────────────────────┐
   │ 批量导入结果                              │
   ├─────────────────────────────────────────┤
   │ 导入完成：成功 5 条，失败 3 条           │
   ├─────────────────────────────────────────┤
   │ 错误明细（如有失败）：                    │
   │ ┌─────────────────────────────────────┐ │
   │ │ 行号 │ 落货纸号 │ 箱号 │ 错误原因  │ │
   │ ├─────────────────────────────────────┤ │
   │ │  2   │ LHZ001  │ CTU1 │ 请填写起运港│ │
   │ │  5   │ LHZ002  │ CTU2 │ 该订舱号未处│ │
   │ │      │         │      │ 于已订舱状  │ │
   │ │  8   │ LHZ003  │ CTU3 │ 该订舱号不属│ │
   │ │      │         │      │ 于当前货代  │ │
   │ └─────────────────────────────────────┘ │
   ├─────────────────────────────────────────┤
   │ [导出错误明细] [关闭]                    │
   └─────────────────────────────────────────┘
   ```

2. **错误明细表格字段**：
   - **行号**：Excel文件中的行号（从第2行开始，第1行是表头）
   - **落货纸号**：该行数据中的落货纸号
   - **箱号**：该行数据中的箱号
   - **错误原因**：具体的错误描述（如"请填写起运港"、"该订舱号未处于已订舱状态，无法上传可视化信息"、"该订舱号不属于当前货代，无法上传"等）

3. **导出错误明细**：
   - 点击"导出错误明细"按钮，导出为Excel文件
   - Excel文件包含错误明细表格的所有字段
   - 文件命名：`铁运可视化信息上报-导入错误明细-YYYYMMDD-HHmmss.xlsx`

**实现方式**：
- 使用弹窗（Modal）展示导入结果
- 错误明细使用表格展示，支持横向滚动（如字段较多）
- 导出功能使用前端库（如SheetJS）生成Excel文件

### 8.5 单文件HTML结构计划

**文件命名**：`TYVISV0.1.html`（铁运可视化信息上报 V0.1）

**文件结构**：
```
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    - Meta标签
    - 标题：铁运可视化信息上报
    - 引入Vue.js、Tailwind CSS、Font Awesome
    - 自定义CSS样式（内联）
</head>
<body>
    <div id="app">
        <!-- 面包屑导航 -->
        <!-- 页面标题 -->
        <!-- 筛选区域 -->
        <!-- 操作按钮区 -->
        <!-- 数据表格 -->
        <!-- 分页器 -->
    </div>
    
    <!-- 单条上传弹窗（Modal） -->
    <!-- 批量上传弹窗（Modal） -->
    <!-- 批量导入结果弹窗（Modal） -->
    <!-- 删除确认弹窗（Modal） -->
    
    <script>
        - Vue.js应用逻辑
        - 表单校验逻辑
        - 弹窗控制逻辑
        - 表格数据管理
        - 筛选和分页逻辑
    </script>
</body>
</html>
```

**技术栈**：
- Vue.js 3（响应式数据管理）
- Tailwind CSS（样式框架）
- Font Awesome（图标）
- 所有样式和脚本内联在HTML文件中（单文件，无需外部资源）

**文件夹结构**：
```
中远海/
└── 原型/
    └── 铁运可视化信息上报/
        └── TYVISV0.1.html    # 单文件HTML原型
```

---

**状态**：关键信息已确认，可选信息处理计划已制定  
**下一步**：输出单文件HTML原型（TYVISV0.1.html）
